### 스프링의 핵심 전략
1. 확장과 변화를 고려힌 객체 지향적 설계
2. 테스트 기술

### 단위 테스트의 중요성
1. 웹 프로그램에서 사용하는 DAO를 웹 화면을 통해 테스트 한다면 MVC계층을 모두 만들어야지 가능하다.   
    -> 이는 많은 코드에서 문제를 찾기 어렵게 만들 뿐만 아니라 시간이 오래 걸린다.
2. 개발자를 안심시키기 위한 수단  
    -> 코드를 완성했다고 해도 확신이 없다. 이를 테스트로 해소

> 켄트 백 "테스트란 개발자가 마음 편하게 잠자리에 들 수 있게 해주는 것"
### JUnit 프레임워크
> JUnit 요구하는 조건 2가지
> > 1. 메소드가 public으로 선언돼야 한다.   
> > 2. 메소드에 @Test 어노테이션을 붙여야 한다.

### 테스트 방식
1. 조건 // 가져올 정보  
2. 행위 // ~ 일때 실행하면  
3. 결과 // 예외를 던지거나, 값을 비교하여 성공 or 실패

테스트는 가능한 한 독립적으로 매번 새로운 오브젝트를 만들어서 사용하는 것이 좋다.

### TDD 장점
1. 많은 개발자들이 기능을 완성하고 싶은 욕구, 집중하면 정신없이 빠져드는 습관으로 인해 코드를 만들고 테스트한다.
    -> 많아진 코드를 다 테스트하기 막막해진다.
    But, 반면 TDD는 테스트 코드를 먼저 작성하여 테스트를 뺴먹지 않고 꼼꼼하게 만들어낼 수 있다.
2. 코드를 만들어 테스트를 실행하는 그 사이의 간격이 매우 짧다.

### JUnit4의 동작방식
1. @Test 어노테이션과 public void형이고 파라미터가 없는 메소드를 전부 찾는다.
2. 테스트 클래스의 오브젝트를 하나 만든다.
3. @Before가 붙은 메소드를 찾고 있으면 실행한다.
4. @Test가 붙은 메소드를 하나 호출하고 테스트 결과를 저장해둔다.
5. @After가 붙은 메소드를 찾고 있으면 실행한다.
6. 모든 테스트 결과를 종합해서 돌려준다.

### 픽스처
- fixture
- 테스트를 수행하는데 필요한 정보나 오브젝트
- @Before를 이용해 미리 객체를 생성하자

### 테스트 시에 컨텍스트 의존관계를 변경시에는 @DirtiesContext 
- 클래스 레벨이나 메소드레벨에서 사용가능하다.  
-> 의존관계를 다른 구현체로 변경하는 것은 번거롭다. 그러면?   
    - DataSource 구현체를 컨테이너에 2개만들어 놓는다. 
    - 기존의 xml -> test_기존의 xml로 @ContextConfiguration( locations = "test_기존의 xml" )
    
### 스프링 컨테이너 없는 DI테스트
- 침투적 기술과 비침투적 기술
- 스프링 컨테이너 없이 애플리케이션 로직을 담은 코드에 아무런 영향을 주지 않고 적용이 가능하다. -> 비침투적 기술
<pre>
<code>
    public class UserDaoTest{
        
        UserDao userDao;
        
        @Before
        public void setUp(){
            userDao = new UserDao();
            DataSource datasource =new SingleConnectionDataSource(
                                            "jdbc:mysql:// ...", userId, userPassword,true);
                                            
            userDao.setDataSource(datasource);
            }
        }                                    
</code>
</pre>

> 1. 스프링 DI를 하지 않는 테스트를 우선으로 생각하자 

### 학습 테스트
> 개발팀에서 만들어서 제공한 라이브러리 등에 대해서도 테스트를 작성해야한다.  
> 1. 자신이 사용할 API나 프레임워크의 기능을 테스트로 보면서 사용방법을 익히려는 것  
> 2. 사용방법을 정확하게 알고 있는지 검증         